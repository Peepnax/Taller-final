!function(){"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();const{__FRE:e}=window,n=function(t){const e={};return function(...n){const r=n.join(",");return e[r]||(e[r]=t(...n)),e[r]}},r=(t,e,n,r,i)=>{for(t=t&&t.split?t.split("."):[t],r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i||""===e||null===e?n:e},i=(n(r),{domain:()=>document.domain||window.location.hostname,get(t,e){for(let n=document.cookie.split(";"),r=0;r<n.length;r++){const i=n[r].replace(/^\s+/,""),[a,...o]=i.split("="),c=o.join("=");if(a===t)return e?c:decodeURIComponent(c)}return""},set(t,e,n){let r=`${t}=${e}`;if(void 0!==n){const t=Date.now()+60*n*1e3;r+=`; expires=${new Date(t).toUTCString()}`}return document.cookie=`${r}; path=/`,this.get(t)===e},test(t){return!!this.get(t)}}),a={fire(t,e,n){const r=new CustomEvent(e,{detail:n});t.dispatchEvent(r)},listen(t,e,n){const r=e.split(" ");for(let e=0;e<r.length;e++)t.addEventListener(r[e],n,!1)}};let o=()=>window.location.href;const c=(t,e="")=>{try{const n=new URL(o());return n.searchParams.get(t)?n.searchParams.get(t):e}catch(n){const r=new RegExp(`[&?]${t}=?([^&]*)?`).exec(o());return null===r?e:void 0===r[1]||r[1]}},l=(n(c),(t,e)=>{let n,r=document.getElementsByTagName("script");const i=r[0];for(n=0;n<r.length;n++)if(r[n].src===t&&r[n].readyState&&/loaded|complete/.test(r[n].readyState))try{return void e()}catch(t){}r=document.createElement("script"),r.type="text/javascript",r.async=!0,r.src=t,r.onerror=()=>{r.addEventListener&&(r.readyState="loaded")},r.onreadystatechange=()=>{if(!r.readyState||"complete"===r.readyState||"loaded"===r.readyState){r.onload=r.onreadystatechange,r.onreadystatechange=null,r.addEventListener&&(r.readyState="loaded");try{e.call(r)}catch(t){}}},r.onload=r.onreadystatechange,i.parentNode.insertBefore(r,i)}),u=(t,e)=>{function n(t,e){return t<<e|t>>>32-e}function r(t,e){var n,r,i,a,o;return i=2147483648&t,a=2147483648&e,o=(1073741823&t)+(1073741823&e),(n=1073741824&t)&(r=1073741824&e)?2147483648^o^i^a:n|r?1073741824&o?3221225472^o^i^a:1073741824^o^i^a:o^i^a}function i(t,e,i,a,o,c,l){return t=r(t,r(r(function(t,e,n){return t&e|~t&n}(e,i,a),o),l)),r(n(t,c),e)}function a(t,e,i,a,o,c,l){return t=r(t,r(r(function(t,e,n){return t&n|e&~n}(e,i,a),o),l)),r(n(t,c),e)}function o(t,e,i,a,o,c,l){return t=r(t,r(r(function(t,e,n){return t^e^n}(e,i,a),o),l)),r(n(t,c),e)}function c(t,e,i,a,o,c,l){return t=r(t,r(r(function(t,e,n){return e^(t|~n)}(e,i,a),o),l)),r(n(t,c),e)}function l(t){var e,n="",r="";for(e=0;3>=e;e++)n+=(r="0"+(t>>>8*e&255).toString(16)).substr(r.length-2,2);return n}void 0===e&&(e=""),void 0===t&&(t=1e10*Math.random()+"||"+window.location.href+"||"+(new Date).getTime()+"||"+e);var u,d,s,f,m,v,p,g,b,h=Array();for(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);128>r?e+=String.fromCharCode(r):r>127&&2048>r?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e}(t),h=function(t){for(var e,n=t.length,r=n+8,i=16*((r-r%64)/64+1),a=Array(i-1),o=0,c=0;n>c;)o=c%4*8,a[e=(c-c%4)/4]=a[e]|t.charCodeAt(c)<<o,c++;return o=c%4*8,a[e=(c-c%4)/4]=a[e]|128<<o,a[i-2]=n<<3,a[i-1]=n>>>29,a}(t),v=1732584193,p=4023233417,g=2562383102,b=271733878,u=0;u<h.length;u+=16)d=v,s=p,f=g,m=b,v=i(v,p,g,b,h[u+0],7,3614090360),b=i(b,v,p,g,h[u+1],12,3905402710),g=i(g,b,v,p,h[u+2],17,606105819),p=i(p,g,b,v,h[u+3],22,3250441966),v=i(v,p,g,b,h[u+4],7,4118548399),b=i(b,v,p,g,h[u+5],12,1200080426),g=i(g,b,v,p,h[u+6],17,2821735955),p=i(p,g,b,v,h[u+7],22,4249261313),v=i(v,p,g,b,h[u+8],7,1770035416),b=i(b,v,p,g,h[u+9],12,2336552879),g=i(g,b,v,p,h[u+10],17,4294925233),p=i(p,g,b,v,h[u+11],22,2304563134),v=i(v,p,g,b,h[u+12],7,1804603682),b=i(b,v,p,g,h[u+13],12,4254626195),g=i(g,b,v,p,h[u+14],17,2792965006),v=a(v,p=i(p,g,b,v,h[u+15],22,1236535329),g,b,h[u+1],5,4129170786),b=a(b,v,p,g,h[u+6],9,3225465664),g=a(g,b,v,p,h[u+11],14,643717713),p=a(p,g,b,v,h[u+0],20,3921069994),v=a(v,p,g,b,h[u+5],5,3593408605),b=a(b,v,p,g,h[u+10],9,38016083),g=a(g,b,v,p,h[u+15],14,3634488961),p=a(p,g,b,v,h[u+4],20,3889429448),v=a(v,p,g,b,h[u+9],5,568446438),b=a(b,v,p,g,h[u+14],9,3275163606),g=a(g,b,v,p,h[u+3],14,4107603335),p=a(p,g,b,v,h[u+8],20,1163531501),v=a(v,p,g,b,h[u+13],5,2850285829),b=a(b,v,p,g,h[u+2],9,4243563512),g=a(g,b,v,p,h[u+7],14,1735328473),v=o(v,p=a(p,g,b,v,h[u+12],20,2368359562),g,b,h[u+5],4,4294588738),b=o(b,v,p,g,h[u+8],11,2272392833),g=o(g,b,v,p,h[u+11],16,1839030562),p=o(p,g,b,v,h[u+14],23,4259657740),v=o(v,p,g,b,h[u+1],4,2763975236),b=o(b,v,p,g,h[u+4],11,1272893353),g=o(g,b,v,p,h[u+7],16,4139469664),p=o(p,g,b,v,h[u+10],23,3200236656),v=o(v,p,g,b,h[u+13],4,681279174),b=o(b,v,p,g,h[u+0],11,3936430074),g=o(g,b,v,p,h[u+3],16,3572445317),p=o(p,g,b,v,h[u+6],23,76029189),v=o(v,p,g,b,h[u+9],4,3654602809),b=o(b,v,p,g,h[u+12],11,3873151461),g=o(g,b,v,p,h[u+15],16,530742520),v=c(v,p=o(p,g,b,v,h[u+2],23,3299628645),g,b,h[u+0],6,4096336452),b=c(b,v,p,g,h[u+7],10,1126891415),g=c(g,b,v,p,h[u+14],15,2878612391),p=c(p,g,b,v,h[u+5],21,4237533241),v=c(v,p,g,b,h[u+12],6,1700485571),b=c(b,v,p,g,h[u+3],10,2399980690),g=c(g,b,v,p,h[u+10],15,4293915773),p=c(p,g,b,v,h[u+1],21,2240044497),v=c(v,p,g,b,h[u+8],6,1873313359),b=c(b,v,p,g,h[u+15],10,4264355552),g=c(g,b,v,p,h[u+6],15,2734768916),p=c(p,g,b,v,h[u+13],21,1309151649),v=c(v,p,g,b,h[u+4],6,4149444226),b=c(b,v,p,g,h[u+11],10,3174756917),g=c(g,b,v,p,h[u+2],15,718787259),p=c(p,g,b,v,h[u+9],21,3951481745),v=r(v,d),p=r(p,s),g=r(g,f),b=r(b,m);return(l(v)+l(p)+l(g)+l(b)).toLowerCase()};window.performance&&window.performance.mark&&window.performance;var d=/affiliateLogging/.test(document.location.search),s=function(){var t;d&&(t=console).log.apply(t,arguments)},f=function(){var t;d&&(t=console).debug.apply(t,arguments)};function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}}(t,e)||p(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var b=[Node.ELEMENT_NODE,Node.DOCUMENT_NODE],h=["iframe","input","journey-inline-newsletter","script","video"],y=[/^google_ads.*/,/^gpt_.*/],w=[/.*?breaker-ad.*/,/^glimmerPlayer$/,/^text_ad$/,/.*?vertical-ad.*/,/^video-js$/,/^vjs-.*/],k=function(t){f("[PRE HANDLER] input",t);var e=t.some((function(t){var e=m(t,2)[1];return void 0!==e&&e}));f("[PRE HANDLER] firstRun",e);var n=t.reduce((function(t,e){var n=m(e,1)[0];return f("[PRE HANDLER] acc, node",t,n),t.add(null!=n?n:document),t}),new Set);f("[PRE HANDLER] nodeSet",n);var r=n.has(document)?[document]:v(n);return f("[PRE HANDLER] nodes",r),[r,e]},A=function(t,e){var n=new Set;return new Set(t).forEach((function(t){t.querySelectorAll(e).forEach((function(t){return n.add(t)}))})),v(n)},S=()=>{function t(t,e){const n=(t,e)=>{window.__tcfapi("getTCData",2,(n=>!0===n.vendor.consents[t]&&!window.CMP_CCPA_OPTOUT&&e()),[t])},r=(r,i)=>{i&&"tcloaded"===r.eventStatus&&(window.__tcfapi("removeEventListener",2,(()=>{}),r.listenerId),n(t,e))};window.__tcfapi("ping",2,(i=>{"loaded"!==i.cmpStatus?window.__tcfapi("addEventListener",2,r):n(t,e)}))}const e=[];window.GDPR&&function n(){if(void 0===window.__tcfapi)setTimeout(n,100);else{for(;e.length;){const n=e.shift();Array.isArray(n)&&t(...n)}const n=(t,e)=>{e&&"tcloaded"===t.eventStatus&&(window.__tcfapi("removeEventListener",2,(()=>{}),t.listenerId),window.__tcfapi_ready=!0)};window.__tcfapi("ping",2,(t=>{"loaded"!==t.cmpStatus?window.__tcfapi("addEventListener",2,n):window.__tcfapi_ready=!0}))}}(),window.getTCFConsent=(n,r,a)=>{const o=(()=>{const t=!(!navigator||!navigator.globalPrivacyControl);return t&&i.set("OneTrustWPCCPAGoogleOptOut","true",525600),t})(),c=(()=>{let t=!!window.CMP_CCPA_OPTOUT;return!(!t&&(t=i.get("usprivacy"),!t||"Y"!==t.charAt(2)))})();switch(n){case"category":try{if(!window.GDPR&&!c&&!o)return!0;if(window.GDPR_CONSENT_GROUPS.indexOf(r)>-1)return!0;break}catch(t){return!1}case"vendor":return window.GDPR||c||o?(void 0===window.__tcfapi?e.push([r,a]):t(r,a),!0):a();default:return!1}return!1}};function O(t){return function(t){if(Array.isArray(t))return T(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||E(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){if(t){if("string"==typeof t)return T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(t,e):void 0}}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _=function(t){var e,n=null!==(e=t.abTestingWeb)&&void 0!==e?e:{},r=n.experimentId,i=void 0===r?"":r,a=n.variationId;return{experimentId:i,variationId:void 0===a?"":a}},P=function(t){var e=[],n=null==t?void 0:t.abTestingFullStack;return Array.isArray(n)&&n.forEach((function(t){var n,r,i=(n=t.split(":"),r=2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}}(n,r)||E(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],o=i[1];e.push(["ofsxid",a]),e.push(["ofsvid",o])})),e},R=function(t){return[].concat(O(function(t){var e=_(t),n=e.experimentId,r=e.variationId,i=[];return n&&r&&(i=[["optxid",n],["optvid",r]]),i}(t)),O(P(t)))};function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}}(t,e)||C(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t,e){if(t){if("string"==typeof t)return D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,e):void 0}}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var x=function(){return window.getTCFConsent||S(),!(Object.prototype.hasOwnProperty.call(window,"GDPR")&&window.GDPR)||window.getTCFConsent("category","C0003",(function(){window._fireTrackingEvent(!0)}))},N=function(){var t,e;s("AB Testing: Optimizely get function is ready",null===(t=window)||void 0===t||null===(e=t.optimizely)||void 0===e?void 0:e.get);var n,r,i,a,o,c,l,u,d,f=window.optimizely.get("state");return n=j(Object.entries(f.getExperimentStates((function(t){return t.isActive&&!t.reason}))),1)[0],u=null,d=null,!n||n.length<=1||(null!==(r=n[1])&&void 0!==r&&r.id&&(u=null===(o=n[1])||void 0===o?void 0:o.id),null!==(i=n[1])&&void 0!==i&&null!==(a=i.variation)&&void 0!==a&&a.id&&(d=null===(c=n[1])||void 0===c||null===(l=c.variation)||void 0===l?void 0:l.id)),{experimentId:u,variationId:d}},G=function(){var t,e,n,r,i,o,c,l,u,d,f,m,v,p;if(window.HRST=null!==(t=window.HRST)&&void 0!==t?t:{},null!==(e=window.HRST)&&void 0!==e&&null!==(n=e.commerce)&&void 0!==n&&null!==(r=n.affiliate)&&void 0!==r&&r.initialized)return s("HRST is initialized... "),window.HRST;if(null!==(i=window.HRST)&&void 0!==i&&i.commerce||(window.HRST.commerce={}),null!==(o=window.HRST)&&void 0!==o&&null!==(c=o.commerce)&&void 0!==c&&c.affiliate||(window.HRST.commerce.affiliate={}),null!==(l=window.HRST)&&void 0!==l&&l.abTestingWeb||(window.HRST.abTestingWeb={}),null!==(u=window)&&void 0!==u&&null!==(d=u.optimizely)&&void 0!==d&&d.get)try{window.HRST.abTestingWeb=N()}catch(t){var g,b;s("AB Testing: Optimizely get function error",null===(g=window)||void 0===g||null===(b=g.optimizely)||void 0===b?void 0:b.get,t)}else{var h,y;s("AB Testing: Optimizely get function is not ready yet",null===(h=window)||void 0===h||null===(y=h.optimizely)||void 0===y?void 0:y.get),window.optimizely=window.optimizely||[];var w={type:"addListener",filter:{type:"lifecycle",name:"campaignDecided"},handler:function(t){s("AB Testing: Web Optimizely initialized",{event:t}),window.HRST.abTestingWeb=N(),a.fire(window,"reset-data-tracking")}};window.optimizely.push(w),s("AB Testing: Pushed config object",{optimizelyConfig:w})}return null!==(f=window.HRST)&&void 0!==f&&null!==(m=f.commerce)&&void 0!==m&&null!==(v=m.affiliate)&&void 0!==v&&v.trackingEnabled||(window.HRST.commerce.affiliate.trackingEnabled=x()),null!==(p=window.HRST)&&void 0!==p&&p.abTestingFullStack||(window.HRST.abTestingFullStack=[]),window.HRST.commerce.affiliate.initialized=!0,window.HRST},z=function(t){var e=t.getAttribute("data-affiliate-network");if(!e)return f("getAffiliateNetwork - NOT FOUND",e),null;try{var n,r,i,a=JSON.parse(e);return f("".concat(null!==(n=null==a||null===(r=a.network)||void 0===r||null===(i=r.name)||void 0===i?void 0:i.toUpperCase())&&void 0!==n?n:""," getAffiliateNetwork").trim(),a),a}catch(n){return void f("getAffiliateNetwork ERROR",t,e,n)}},L=function(t,e){var n,r,i,a,o,c,l,u,d,s=null!==(n=window.HRST)&&void 0!==n?n:{},f=(null==s||null===(r=s.article)||void 0===r||null===(i=r.section)||void 0===i?void 0:i.prefix)||!1,m=null==t||null===(a=t.domains)||void 0===a?void 0:a[document.location.hostname],v=null!==(o=null==m?void 0:m.default)&&void 0!==o?o:null==t?void 0:t.default,p=null!==(c=null==m||null===(l=m.section)||void 0===l?void 0:l[f])&&void 0!==c?c:null==t||null===(u=t.section)||void 0===u?void 0:u[f],g=null!=p?p:v;return null!==(d=null==g?void 0:g[e])&&void 0!==d?d:""},U=function(t){return new URL(document.location).searchParams.get(t)||""},M=function(t){var e=U(t);if(e)return e;var n=i.get("gpt_utm");if(n){var r=JSON.parse(n),a=t.split("_")[1]||"";if(Object.prototype.hasOwnProperty.call(r,a))return r[a]}return""},H=function(t){for(var e="_amznClk=",n=document.cookie.split(";"),r=0;r<n.length;r+=1){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e)){var a=i.substring(e.length,i.length);if(t===(a=a.split("-"))[0])return a.shift(1),a.join("-")}}return""},F=function(t){var e={};try{e=JSON.parse(document.getElementById("data-layer").innerText)}catch(t){}return r(t,e,"")},K=function(t){return(t.getAttribute("data-vars-ga-link-treatment")||"").split("|").map((function(t){return t.trim()})).filter((function(t){return"(not set)"!==t}))[0]||""},B=function(t){return t.getAttribute("data-vars-ga-axid")||""},$=function(t){var e=x(),n=M("utm_source"),r=M("utm_campaign"),i=M("utm_medium"),a=U("fbclid")||H("fbclid"),o=U("gclid")||H("gclid"),c=U("msclkid")||H("msclkid"),l="",u=document.referrer;u&&(l=j(u.split("/"),3)[2]);var d=F("content.id")||F("listing.id")||window.HRST.contentId,s=t.getAttribute("data-vars-ga-product-id")||"",m=t.getAttribute("data-vars-ga-product-retailer-id")||"",v=K(t),p=_(window.HRST),g=p.experimentId,b=p.variationId,h=P(window.HRST),y={utmSource:e?n:"",utmCampaign:e?r:"",utmMedium:e?i:"",gclid:e?o:"",msclkid:e?c:"",fbclid:e?a:"",refDomain:l,contentId:d,contentProductId:s,productRetailerId:m,linkTreatment:v,axid:B(t),oplyExpId:e?g:"",oplyVarId:e?b:"",ofsTags:e?h:[]};return f("AFFILIATE:","utils.buildTrackingPayload",{element:t,payload:y}),y},q=function(t){var e,n=$(t),r=n.utmSource,i=n.utmCampaign,a=n.utmMedium,o=n.gclid,c=n.msclkid,l=n.fbclid,u=n.refDomain,d=n.contentId,s=n.contentProductId,m=n.productRetailerId,v=n.linkTreatment,p=n.axid,g=n.oplyExpId,b=n.oplyVarId,h=n.ofsTags,y="[".concat(["utm_source|".concat(r),"utm_campaign|".concat(i),"utm_medium|".concat(a),"gclid|".concat(o),"msclkid|".concat(c),"fbclid|".concat(l),"refdomain|".concat(u),"content_id|".concat(d),"content_product_id|".concat(s),"product_retailer_id|".concat(m),"lt|".concat(v),"axid|".concat(p),"optxid|".concat(g),"optvid|".concat(b)].concat((e=h.map((function(t){var e=j(t,2),n=e[0],r=e[1];return"".concat(n,"|").concat(r)})),function(t){if(Array.isArray(t))return D(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).join("["));return f("AFFILIATE:","utils.buildTrackingData",{element:t,data:y}),y},J=function(t,e){var n=G(),r=n.commerce.affiliate.observers;if(r||(r={},n.commerce.affiliate.observers=r),!r[e.toLowerCase()]){var i=new MutationObserver((function(n){n.forEach((function(n){var r;null!==(r=n.addedNodes)&&void 0!==r&&r.length&&n.addedNodes.forEach((function(n){(function(t){var e,n,r;return b.includes(null==t?void 0:t.nodeType)?h.includes(null==t||null===(e=t.nodeName)||void 0===e?void 0:e.toLowerCase())?(f("NODE CHECKER:","skipped by node name",t),!1):(n=null==t?void 0:t.id)&&y.some((function(t){return t.test(n)}))?(f("NODE CHECKER:","skipped by id",t),!1):(r=null==t?void 0:t.classList)&&v(r).some((function(t){return w.some((function(e){return e.test(t)}))}))?(f("NODE CHECKER:","skipped by className",t),!1):(f("NODE CHECKER:","approved node",t),!0):((null==t?void 0:t.nodeType)!==Node.TEXT_NODE&&f("NODE CHECKER:","skipped by node type",t),!1)})(n)&&(t(n),f("".concat(e,": run MutationObserver on"),n))}))}))}));i.observe(document.body,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["data-amazon-ascsubtag","data-skimlinks-tracking","data-trackonomics-xid","data-trackonomics-tracking","data-afflinks-tracking"]}),r[e.toLowerCase()]=i,s(e,"initialize MutationObserver")}},V=function(t,e){var n=G(),r=n.commerce.affiliate.observers;if(r||(r={},n.commerce.affiliate.affiliateNetworkObservers=r),!r[e.toLowerCase()]){var i=new MutationObserver((function(n){n.forEach((function(n){if("data-affiliate-network"===n.attributeName){var r=n.target;t(r),f("".concat(e,": run AffiliateNetworkAttributeObserver on"),r)}}))}));i.observe(document.body,{subtree:!0,attributes:!0}),r[e.toLowerCase()]=i,s(e,"initialize setAffiliateNetworkAttributeObserver")}},W=function(t,e,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,n||t.apply(i,a)},c=n&&!r;clearTimeout(r),r=setTimeout(o,e),c&&t.apply(i,a)}},Y=function(t,e,n,r,i){var a,o,c=[],l="".concat(i?"".concat(i,":"):""," [DEBOUNCER]").trim(),u=function(t){c.push(t),f(l,"collect",c.length,t)},d=function(){f(l,"call",c),t.apply(o,r?r(c):c),f(l,"reset",c.length),c=[]};return function(){o=this;for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];u(r);var c=function(){a=null,n||d()},l=n&&!a;clearTimeout(a),a=setTimeout(c,e),l&&d()}},X=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=U("disableAffiliateBundle").toLowerCase().split(",");return e.includes("all")||e.includes(t.toLowerCase())},Z=function(t){["interactive","complete"].includes(document.readyState)?setTimeout(t,1):document.addEventListener("DOMContentLoaded",t)},Q=function(t,e){var n=G(),r=n.commerce.affiliate.tracking;r||(r={},n.commerce.affiliate.tracking=r);var i=e.toLowerCase();r[i]||(r[i]=t),s(e,"initialize setTrackingListener"),window.addEventListener("reset-data-tracking",t)};window._fireTrackingEvent=W((function(t){var e,n;f("🔥🔥🔥 fireTrackingEvent",t);var r=null===(e=window.HRST)||void 0===e||null===(n=e.commerce)||void 0===n?void 0:n.affiliate,i=!1;if(Object.prototype.hasOwnProperty.call(r,"trackingEnabled")?(null==r?void 0:r.trackingEnabled)!==t&&(i=!0):(i=!0,G()),i){window.HRST.commerce.affiliate.trackingEnabled=t;var a=new CustomEvent("reset-data-tracking",{detail:{enabled:t}});window.dispatchEvent(a),f("fireTrackingEvent - fired!",t)}else f("fireTrackingEvent - skipped",t)}),100,!1);var tt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.trackingAttribute=n,this.elements=[],document.addEventListener("app.generate-xid",this.processEvent.bind(this))}var e,n;return e=t,(n=[{key:"fireEvent",value:function(){document.dispatchEvent(new CustomEvent("app.generate-xid"))}},{key:"processEvent",value:function(t){f("processEvent",t,"this",this),this.elements.forEach(this.generateClickID)}},{key:"generateClickID",value:function(t){if(t){var e=crypto.randomUUID();t.setAttribute("data-vars-ga-axid",e),f("generateClickID",t,e)}}},{key:"register",value:function(t,e){var n=this;if(this.generateClickID(t),!this.elements.includes(t)){this.elements.push(t);var r=function(){setTimeout((function(){t.hasAttribute(n.trackingAttribute)&&(n.generateClickID(t),f("fireMe",t),e&&e(t))}),300)};t.addEventListener("click",r.bind(this)),t.addEventListener("contextmenu",r.bind(this))}}}])&&I(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),et=function(){var t,e,n=G(),r=(null==n||null===(t=n.commerce)||void 0===t||null===(e=t.flags)||void 0===e?void 0:e.site)||{};return!(!U("afflinks_enabled")&&!r["commerce.self-hosted.affiliate.render-afflinks-redirect"])}(),nt=function(t){var e=t.getAttribute("data-affiliate-network")||"{}";try{var n=JSON.parse(e),r=null==n?void 0:n.afflink_redirect;if(r)return r.startsWith("/_p/")?r:"/_p".concat(r)}catch(t){f("extractAfflinksPath error parsing affiliate_network",t)}return""},rt=function(t){return!!et&&!!nt(t)},it="AMAZON",at="RAKUTEN",ot="SKIMLINKS",ct="TRACKONOMICS",lt="AFFLINKS",ut=~~U("debounceTimeout")||250;function dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach((function(e){ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ft(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vt(t){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vt(t)}var pt,gt="type",bt="mobile",ht="name",yt=function(t,e){return t?e.reduce((function(e,n,r){if(!("object"===vt(n)&&n.length>0))return st(st({},e),{},ft({},n,t[r+1]||void 0));if(2===n.length){var i=(l=2,function(t){if(Array.isArray(t))return t}(c=n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}}(c,l)||function(t,e){if(t){if("string"==typeof t)return mt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mt(t,e):void 0}}(c,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],o=i[1];return st(st({},e),{},ft({},a,o))}var c,l;return e}),{}):null},wt=function(t,e){if(!t||!e)return{};for(var n,r={},i=0;i<e.length&&!n;){for(var a=e[i],o=e[i+1],c=0;c<a.length&&!n&&a[c];)(n=yt(a[c].exec(t),o))&&(r=st(st({},r),n)),c+=1;i+=2}return r},kt=[[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[[gt,bt]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[[gt,bt]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[[gt,bt]],[/(?:huawei|honor)([-\w ]+)[;)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[[gt,bt]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[gt,bt]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[[gt,bt]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[[gt,bt]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[[gt,bt]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w() ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[[gt,bt]],[/(lm(?:-?f100[nv]?|-[\w.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[[gt,bt]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w.]*)/i],[[gt,bt]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[[gt,bt]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[[gt,bt]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[[gt,bt]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[gt,bt]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[[gt,bt]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[[gt,bt]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[[gt,bt]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[[gt,bt]],[/(blackberry|benq|palm(?=-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[[gt,bt]],[/droid [\d.]+; (fp\du?)(?: b|\))/i],[[gt,bt]],[/(sprint) (\w+)/i],[[gt,bt]],[/(kin\.[onetw]{3})/i],[[gt,bt]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[[gt,bt]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[[gt,bt]],[/(phone|mobile(?:[;/]| [ \w/.]*safari)|pda(?=.+windows ce))/i],[[gt,bt]]],At=[[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[/ ])([\d.]+)/i,/cfnetwork\/.+darwin/i],[[ht,"iOS"]],[/droid ([\w.]+)\b.+(android[- ]x86|harmonyos)/i],["t",ht],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-/ ]?([\w.]*)/i,/(blackberry)\w*\/([\w.]*)/i,/(tizen|kaios)[/ ]([\w.]+)/i,/\((series40);/i],[ht]],St=function(){if(!pt){var t=window.navigator.userAgent;pt=st(st({},wt(t,kt)),wt(t,At))}return pt},Ot=/initGDPR/.test(document.location.search),Et=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return window.getTCFConsent||S(),window.GDPR?window.getTCFConsent("category","C0003",t)?(s("GDPR: non-compliant (accepted cookie)"),!0):(s("GDPR: compliant (declined cookie)"),!1):(s("GDPR: false"),t&&t(),!0)},Tt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Et((function(){l(t,e)}))},_t=function(t,e){s("GDPR: registerEvents",t,e),a.listen(window,["app.slideshow.slide-change","load.app.shopamazon","app.embedded_gallery.event.slide_change","app.contentLazyLoaded","app.affiliate-links.reload"].join(" "),(function(){setTimeout((function(){s("AFFILIATE EVENTS: run ".concat("callback")),e.forEach(t)}),200)}))},Pt=W((function(){s("GDPR: triggerRegisteredEvent","app.affiliate-links.reload"),a.fire(window,"app.affiliate-links.reload")}),100,!1),Rt=function(t){s("GDPR: revertBackAffiliate <DEPRECATED>",t)},It=function(t,e){s("GDPR is started..."),Ot&&function(){if(void 0===window.GDPR_CONSENT_GROUPS){var t=document.cookie.match("[;]*\\s*OptanonConsent\\s*=\\s*([^;]+)");if(window.GDPR_CONSENT_GROUPS="",t)try{var e=t[1].match(/groups=(.*?)(&|$)/);e&&(e=decodeURIComponent(e[1]).split(",")).forEach((function(t){"1"===t.split(":")[1]&&(window.GDPR_CONSENT_GROUPS+=(window.GDPR_CONSENT_GROUPS?",":"")+t.split(":")[0])}))}catch(t){s("GDPR: error gathering cookie")}}}();var n=G();s("HRST",n),X(e)?s("`disableAffiliateBundle` detected! ".concat(e," is disabled")):r("article.hideAffiliates",n,!1)||r("article.noAffiliateUrl",n,!1)?s("hideAffiliates is enabled"):(s("GDPR_CONSENT_GROUPS and GDPR: ",window.GDPR_CONSENT_GROUPS,window.GDPR),t())},jt=["app.contentLazyLoaded","app.embedded_gallery.event.slide_change","app.nextContentLoaded","app.slideshow.slide-change","embedded_gallery.event.slide_change","load.app.shopamazon","render.app.slide-change"],Ct=/\/dp\/(\w+)/,Dt=/^\/dp\/(\w+)$/;function xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(n),!0).forEach((function(e){Gt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zt(t){return function(t){if(Array.isArray(t))return Ut(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Lt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(t,e){if(t){if("string"==typeof t)return Ut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(t,e):void 0}}function Ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mt=new tt("amazon","data-amazon-ascsubtag"),Ht=function(t){for(var e="_amznClk=",n=document.cookie.split(";"),r=0;r<n.length;r+=1){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e)){var a=i.substring(e.length,i.length);if(t===(a=a.split("-"))[0])return a.shift(1),a.join("-")}}return""},Ft=function(t){var e=new Date;e.setDate(e.getDate()),e.setMinutes(e.getMinutes()+30);var n="".concat(t,";expires=").concat(e.toUTCString(),"; path=/");document.cookie="_amznClk=".concat(n)},Kt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];f.apply(void 0,["🛍️ ".concat(it,":")].concat(e))},Bt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];s.apply(void 0,["🛍️ ".concat(it,":")].concat(e))},$t=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=c("fbclid")||Ht("fbclid"),n=c("gclid")||Ht("gclid"),r=c("msclkid")||Ht("msclkid"),i="";return n&&(i=u(n),Ft("gclid-".concat(n))),t||(e&&(i=u(e),Ft("fbclid-".concat(e))),r&&(i=u(r),Ft("msclkid-".concat(r)))),i},qt=function(){var t=U("utm_campaign");if(t)return t;var e=i.get("gpt_utm");if(e){var n=JSON.parse(e);if(Object.prototype.hasOwnProperty.call(n,"campaign"))return n.campaign}var r=U("src");if(r)return r;var a=i.get("gpt_src");return a||(document.referrer.split("/")[2]||"")},Jt=function(t){var e,n,r=null==t||null===(e=t.article)||void 0===e?void 0:e.id,i=null==t||null===(n=t.site)||void 0===n?void 0:n.icxSiteId;if(r&&i){var a=r.split("."),o=a[1].substring(0,1);"l"===o&&(o="g"),r="".concat(i,".").concat(o,".").concat(a[2])}return r},Vt=function(t,e){var n=L(t,"tag"),r=L(t,"sem"),i=L(t,"social"),a=c("gclid")||Ht("gclid"),o=c("msclkid")||Ht("msclkid"),l=n;return(a||o)&&/^(arb|mgu)_/i.test(e)||/^(arb|mgu)_(ga|bg)/i.test(e)?l=r||n:/^(arb|mgu)_/i.test(e)&&(l=i||r||n),l},Wt=function(t){var e=c("gclid")||Ht("gclid"),n=c("msclkid")||Ht("msclkid"),r=["default"];return(e||n)&&/^(arb|mgu)_/i.test(t)||/^(arb|mgu)_(ga|bg)/i.test(t)?r=["sem","default"]:/^(arb|mgu)_/i.test(t)&&(r=["social","sem","default"]),r},Yt=function(t){return t.getAttribute("data-vars-ga-product-id")||""},Xt=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return[[],["artid",Jt(n)],["src",e],["ch",$t(r)],["lt",K(t)],["pid",Yt(t)],["axid",B(t)]].concat(zt(R(n))).map((function(t){return t.join("|")})).join("[")},Zt=function(t){if(St().type===bt){var e=new URL(t);if(e.hostname.match(/^www\./)||(e.hostname="www.".concat(e.hostname)),!e.pathname.match(Dt)){var n=e.pathname.match(Ct);if(n){var r=(o=1,function(t){if(Array.isArray(t))return t}(a=n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}}(a,o)||Lt(a,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());e.pathname=r[0]}}var i=e.toString();return"Android"===St().name&&(i=i.replace(new RegExp("^".concat(e.protocol)),"intent:")),i}var a,o;return t},Qt=function(t){if(Kt("🔥 handleAmazonElement",t),Rt(t),rt(t))Kt("handleAmazonLink skipped",t);else if(t.hasAttribute("data-amazon-ascsubtag"))Kt("handleAmazonLink already set skipped",t);else if(t.classList.contains("noamzn"))Kt("handleAmazonLink skipped",t);else{var e=function(){var e,n;if(t.hasAttribute("data-afflinks-tracking"))Kt("🔥 handleAmazonElement HAS ATTRIBUTE data-afflinks-tracking SKIPPING",t);else if(/^https?:\/\/[^/]*\.amazon\./.test(t.href)){var r=G();try{var i,a,o,c,l,u,d=t.getAttribute("href"),s=t.getAttribute("data-affiliate-url"),f=z(t),m=null===(i=r.commerce)||void 0===i||null===(a=i.affiliate)||void 0===a||null===(o=a.amazon)||void 0===o||null===(c=o.subtag)||void 0===c?void 0:c.trackType,v=null==f||null===(l=f.metadata)||void 0===l?void 0:l.links;if(f&&m&&v)for(var p=0;p<m.length;p+=1)if(v[m[p]]){s=v[m[p]];break}n=new URL(null!==(u=s)&&void 0!==u?u:d)}catch(e){return void Bt("handleAmazonLink error getting URL object from href",t)}var g=r.commerce.affiliate.amazon.subtag,b=g.srcVal,h=g.tagId,y=g.buildAscSubTag,w=x()?y(t,b,r):"",k=null!==(e=t.getAttribute("rel"))&&void 0!==e?e:"";k.includes("noskim")||t.setAttribute("rel","".concat(k," noskim").trim()),n.searchParams.get("linkCode")||n.searchParams.set("linkCode","ogi"),n.searchParams.delete("tag"),n.searchParams.delete("ascsubtag"),n.searchParams.set("tag",h),n.searchParams.set("ascsubtag",w);var A=n.toString();t.setAttribute("data-amazon-ascsubtag",w);var S=t.getAttribute("data-optimizely-button-poc");"_t"===S||"_ti"===S||"_ta"===S?A="https://r.bttn.io/?btn_ref=org-66764486726c661d&btn_url=".concat(encodeURIComponent(A)):"_i"===S&&(A=Zt(A)),t.setAttribute("href",A),Kt("rebuild ascsubtag",t)}else Kt("handleAmazonLink skipped, not an amazon link",t)};Mt.register(t,e),e()}},te={getSrcVal:null,buildAscSubTag:null},ee=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n='a[href*="'.concat(t,'"i]'),r='a[href*="'.concat(t,'"i]:not([data-amazon-ascsubtag])'),i="amazon."!==t,a=Nt(Nt({},te),e),o=new Set;return Y((function(t){var e,c,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Kt("handleObserver",t,l);var u=A(t,l?n:r);if(u.length){Bt("found elements",u);var d=G(),s=a.getSrcVal?a.getSrcVal():qt(),m=Vt(null==d||null===(e=d.commerce)||void 0===e||null===(c=e.affiliate)||void 0===c?void 0:c.amazon,s),v=Wt(s),p=d.commerce.affiliate.amazon.subtag;p||(p={srcVal:s||"",tagId:m||"",isIntl:i||!1,buildAscSubTag:a.buildAscSubTag||Xt},d.commerce.affiliate.amazon.subtag=p),d.commerce.affiliate.amazon.subtag.trackType=v,u.forEach(Qt);var g=u.filter((function(t){return!o.has(t)}));g.length&&(f("amazon-append.registerEvents",g),_t(Qt,g),g.forEach((function(t){return o.add(t)})))}}),ut,!1,k,it)},ne=function(t){f("amazon-append.buildResetTracking",t);var e='a[href*="'.concat(t,'"i]');return function(t){f("amazon.resetTracking",t),document.querySelectorAll(e).forEach((function(t){t.removeAttribute("data-amazon-ascsubtag")})),setTimeout(Pt,100)}},re="amazon.",ie=ee(re),ae=ne(re),oe=function(){Kt("running amazon-append.HMG-US.js"),a.listen(window,jt.join(" "),(function(){return ie(document)}));var t="".concat(it," US");J(ie,t),Q(ae,t),ie(document,!0)},ce="amazon.",le=ee(ce),ue=ne(ce),de=function(){Kt("running amazon-append.MAG-ES.js");var t="".concat(it," ES");J(le,t),Q(ue,t),le(document,!0)},se="amazon.",fe=ee(se),me=ne(se),ve=function(){Kt("running amazon-append.MAG-IT.js");var t="".concat(it," IT");J(fe,t),Q(me,t),fe(document,!0)},pe="amazon.",ge=ee(pe),be=ne(pe),he=function(){Kt("running amazon-append.MAG-UK.js"),a.listen(window,jt.join(" "),(function(){return ge(document)}));var t="".concat(it," UK");J(ge,t),Q(be,t),ge(document,!0)},ye="amazon.",we=ee(ye,{getSrcVal:function(){return""},buildAscSubTag:function(){return""}}),ke=ne(ye),Ae=function(){Kt("running amazon-append.MAG-UK-Forums.js");var t="".concat(it," UK-Forums");J(we,t),Q(ke,t),we(document,!0)};function Se(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Z(It((function(){var t,e,n,r=G(),i=(null==r||null===(t=r.commerce)||void 0===t||null===(e=t.affiliate)||void 0===e||null===(n=e.amazon)||void 0===n?void 0:n.market)||!1,a=function(t){switch(t){case"HMG-US":case"HMG-INTL":return oe;case"MAG-ES":return de;case"MAG-IT":return ve;case"MAG-UK":return he;case"MAG-UK-Forums":return Ae;default:return Bt("'".concat(t,"' market not found, switched to HMG-US")),oe}}(i);a?(Bt("RUN FOR MARKET ".concat(i)),a()):Bt("market not found for affiliate amazon:",i)}),it));var Oe=function(t){for(var e="_amznClk=",n=document.cookie.split(";"),r=0;r<n.length;r+=1){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e)){var a=i.substring(e.length,i.length);if(t===(a=a.split("-"))[0])return a.shift(1),a.join("-")}}return""},Ee=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];f.apply(void 0,["🉐 ".concat(at,":")].concat(e))},Te=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];s.apply(void 0,["🉐 ".concat(at,":")].concat(e))},_e=['a[data-affiliate-url*="click.linksynergy.com"]'].join(","),Pe='a[data-affiliate-url*="click.linksynergy.com"]:not([data-rakuten-tracking])',Re=function(t){Rt(t);var e=function(t){var e=G(),n=r("site.icxSiteId",e,""),a=r("article.id",e,!1),o=function(){var t=c("utm_campaign");if(t)return t;var e=i.get("gpt_utm");if(e){var n=JSON.parse(e);if(n.campaign)return n.campaign}return c("src")||i.get("gpt_src")||""}(),l=c("fbclid")||Oe("fbclid"),d=c("gclid")||Oe("gclid"),s=c("msclkid")||Oe("msclkid"),f=_(e),m=f.experimentId,v=f.variationId,p="";if(a&&n){var g=a.split("."),b=g[1].substring(0,1);"l"===b&&(b="g"),a="".concat(n,".").concat(b,".").concat(g[2]),d&&(p=u(d)),l&&(p=u(l)),s&&(p=u(s));var h=K(t),y=P(e).map((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}}(e,n)||function(t,e){if(t){if("string"==typeof t)return Se(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],a=r[1];return"".concat(i,"|").concat(a)})).join("[");return y=y.length?"[".concat(y):"","[artid|".concat(a,"[src|").concat(o,"[ch|").concat(p,"[lt|").concat(h,"[optxid|").concat(m,"[optvid|").concat(v).concat(y)}return""}(t);e?(t.setAttribute("href",function(t,e){if(!e)return t;var n=new URL(t);return n.searchParams.set("u1",e),n.toString()}(t.dataset.affiliateUrl,e)),t.setAttribute("data-rakuten-tracking",e)):Te("handleRakutenDOM - subtagVal is empty",t)},Ie=function(t){!function(t){var e,n=z(t);return Ee("isRakuten",n),"Rakuten"===(null==n||null===(e=n.network)||void 0===e?void 0:e.name)}(t)?Te("handleRakutenDOM - ignored",t):(Ee("handleRakutenDOM",t),Et((function(){return Re(t)}))||function(t){s("GDPR: call rewriteAffiliatesDOM... <DEPRECATED>",t)}(t))},je=new Set,Ce=Y((function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ee("handleObserver",t,e);var n=A(t,e?_e:Pe);if(n.length){Te("found elements",n),n.forEach(Ie);var r=n.filter((function(t){return!je.has(t)}));r.length&&(_t(Ie,r),r.forEach((function(t){return je.add(t)})))}}),ut,!1,k,at);Z(It((function(){J(Ce,at),V(Ie,at),Ce(document,!0)}),at));var De=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];f.apply(void 0,["".concat(ot,":")].concat(e))},xe=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];s.apply(void 0,["".concat(ot,":")].concat(e))},Ne=function(t){xe("running skimlinks.HMG-US.js");var e=L(t,"url");""!==e&&setTimeout((function(){Tt(e,null)}),3e3)},Ge=function(t){xe("running skimlinks.MAG-ES.js");var e=L(t,"url");e&&setTimeout((function(){Tt(e,null)}),3e3)},ze=function(t){xe("running skimlinks.MAG-IT.js");var e=L(t,"url");e&&setTimeout((function(){Tt(e,null)}),3e3)},Le=function(t){if(xe("running skimlinks.MAG-TW.js"),!document.location.search.match(/(arb|mgu)_video_na/i)){var e=L(t,"url");document.querySelectorAll([".content-container a.body-btn-link",".content-container a.product-btn-link"].join(", ")).forEach((function(t){var e=t.getAttribute("href"),n=t.getAttribute("data-href");e&&!n&&t.setAttribute("data-href",e)})),""!==e&&setTimeout((function(){Tt(e,null)}),3e3)}},Ue=function(t){xe("running skimlinks.MAG-NL.js");var e=L(t,"url");e&&setTimeout((function(){Tt(e,null)}),3e3)},Me=function(t){xe("running skimlinks.MAG-UK.js");var e=L(t,"url");function n(){document.querySelectorAll([".content-container a.body-btn-link",".content-container a.product-btn-link"].join(", ")).forEach((function(t){var e=t.getAttribute("href"),n=t.getAttribute("data-href");e&&!n&&t.setAttribute("data-href",e)}))}n(),function t(){a.listen(window,["app.slideshow.slide-change","load.app.shopamazon","embedded_gallery.event.slide_change","app.contentLazyLoaded"].join(" "),(function(){setTimeout(n,200)})),setTimeout(t,250)}(),""!==e&&(window.skimlinks_settings={skimlinks_exclude:["hearstmagazines.co.uk"]},setTimeout((function(){Tt(e,null)}),3e3))},He=function(t){xe("running skimlinks.CD.js");var e=L(t,"url");e&&setTimeout((function(){Tt(e,null)}),3e3)},Fe=['a[href^="https://go.redirectingat.com"]:not([data-skimlinks-tracking])','a[href^="https://go.skimresources.com"]:not([data-skimlinks-tracking])'].join(","),Ke=['a[href^="https://go.redirectingat.com"]','a[href^="https://go.skimresources.com"]'].join(","),Be=new tt("skimlinks","data-skimlinks-tracking"),$e=function(t){rt(t)||t.hasAttribute("data-skimlinks-tracking")||function(t){Rt(t);var e=t.href;if(/^(http(s)?:\/\/)?(go.redirectingat.com|go.skimresources.com)/.test(e)){var n=x(),r=t.getAttribute("href"),i=t.getAttribute("data-href"),a=t.getAttribute("data-affiliate-url");r&&!i&&t.setAttribute("data-href",r);var o=new URL(null!=a?a:e);n&&o.searchParams.set("sref",document.location.href),o.searchParams.set("xs",1),t.setAttribute("href",o.href);var c=function(){if(t.hasAttribute("data-afflinks-tracking"))De("🔥 handleSkimlinksElement HAS ATTRIBUTE data-afflinks-tracking SKIPPING",t);else{o=new URL(t.href);var e=n?q(t):"";o.searchParams.set("xcust",e),t.setAttribute("data-skimlinks-tracking",e),t.setAttribute("href",o.href),De("rebuild xcust",t)}};Be.register(t,c),c(),De("handleSKimlinksDOM",t)}}(t)},qe=new Set,Je=Y((function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];De("handleObserver",t,e),s("GDPR:","SKIM handleObserver");var n=A(t,e?Ke:Fe);if(n.length){xe("found elements",n),n.forEach($e);var r=n.filter((function(t){return!qe.has(t)}));r.length&&(_t($e,r),r.forEach((function(t){return qe.add(t)})))}}),ut,!1,k,ot),Ve=function(t){De("skimlinks.resetTracking",t),document.querySelectorAll('a[href^="https://go.redirectingat.com"]').forEach((function(t){t.removeAttribute("data-skimlinks-tracking")})),setTimeout(Pt,100)};Z(It((function(){var t,e,n,r=G();De("site.metadata.commerce",null==r?void 0:r.commerce);var i=null==r||null===(t=r.commerce)||void 0===t||null===(e=t.affiliate)||void 0===e?void 0:e.skimlinks;if(null==i||!i.disabled){xe("prepareTrackingData"),J(Je,ot),Je(document,!0),Q(Ve,ot);var a=null!==(n=null==i?void 0:i.market)&&void 0!==n?n:"";if(L(i,"url"))if(a){xe("found market ".concat(a,". skimlinks:"),i);var o={"HMG-US":{func:Ne},"MAG-ES":{func:Ge},"MAG-IT":{func:ze},"MAG-NL":{func:Ue},"MAG-UK":{func:Me},"MAG-TW":{func:Le},"HMG-INTL":{func:Ne},CD:{func:He}}[a];o&&o.func(i)}else xe("market did not found. skimlinks:",i);else xe("url not defined !!!")}}),ot));var We=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];f.apply(void 0,["".concat(ct,":")].concat(e))},Ye=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];s.apply(void 0,["".concat(ct,":")].concat(e))},Xe=["data"];function Ze(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ze(Object(n),!0).forEach((function(e){tn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function en(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?en(Object(n),!0).forEach((function(e){rn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function an(t){return function(t){if(Array.isArray(t))return cn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||on(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(t,e){if(t){if("string"==typeof t)return cn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cn(t,e):void 0}}function cn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ln=G(),un=["{xid}",encodeURI("{xid}")],dn=["{subid}",encodeURI("{subid}")],sn=function(t){try{return an(new URL(t).searchParams.entries()).reduce((function(t,e){var n,r,i=(r=2,function(t){if(Array.isArray(t))return t}(n=e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}}(n,r)||on(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],o=i[1];return nn(nn({},t),{},rn({},a,o))}),{})}catch(t){return{}}},fn=function(t){var e,n;return"Trackonomics"===(null===(e=z(t))||void 0===e||null===(n=e.network)||void 0===n?void 0:n.name)},mn=function(t){x()||t.setAttribute("data-trackonomics-xid","gdpr-declined");var e,n,r=t.getAttribute("data-trackonomics-xid");return r||(e=function(t){for(var e="",n="abcdefghijklmnopqrstuvwxyz",r=n.length,i=0;i<3;i+=1)e+=n.charAt(Math.floor(Math.random()*r));return e}(),n=Date.now(),r="fr".concat(n).concat(e),t.setAttribute("data-trackonomics-xid",r)),r},vn=new tt("trackonomics","data-trackonomics-tracking"),pn=function(t,e){var n,r,i,a,o=function(t){var e,n,r,i,a,o,c,l,u,d,s,f,m,v=z(t),p=null!==(e=null==v||null===(n=v.product_metadata)||void 0===n?void 0:n.network_name)&&void 0!==e?e:null==v||null===(r=v.metadata)||void 0===r||null===(i=r.trackonomics)||void 0===i?void 0:i.network_name;p=null===(a=p)||void 0===a?void 0:a.toLowerCase();var g="hearstcorp_9eb67",b=null!==(o=null==ln||null===(c=ln.commerce)||void 0===c||null===(l=c.affiliate)||void 0===l||null===(u=l.trackonomics)||void 0===u?void 0:u.cipd2)&&void 0!==o?o:"TEMPLATEERROR",h="".concat(g,"_").concat(b),y=$(t);y.contentProductId=t.getAttribute("data-vars-ga-product-id"),y.productRetailerId=t.getAttribute("data-vars-ga-product-retailer-id"),y.mediaRole=t.getAttribute("data-vars-ga-media-role"),y.callToAction=t.getAttribute("data-vars-ga-call-to-action"),y.productBrand=t.getAttribute("data-vars-ga-product-brand"),y.productPrice=t.getAttribute("data-vars-ga-product-price"),y.sem3Brand=t.getAttribute("data-vars-ga-product-sem3-brand"),y.sem3Category=t.getAttribute("data-vars-ga-product-sem3-category"),y.sem3Id=t.getAttribute("data-vars-ga-product-sem3-id"),/^(psv|mr\d|mrcust\d).*$/.test(t.getAttribute("data-vars-ga-link-treatment"))||(y.linkTreatment=t.getAttribute("data-vars-ga-link-treatment"));var w=mn(t),k=null!==(d=null==v||null===(s=v.product_metadata)||void 0===s||null===(f=s[null==v?void 0:v.site_id])||void 0===f?void 0:f.link)&&void 0!==d?d:"TEMPLATEERROR";return dn.forEach((function(t){k=k.replace(t,b)})),{env:g,id:w,app_key:"gsd65fgr0hgTTT",property_id:"PROPERTY_ID",customer_id:h,cidp1:g,cidp2:b,event_type:"click",network:p,data:{attr_forwarding:sn(window.location.href),metadata:y,property_id:"PROPERTY_ID",customer_id:h,cidp1:g,cidp2:b,source:window.location.href,event_type:"click",referrer:null!==(m=document.referrer)&&void 0!==m?m:"",uuid:w,link_replaced:!1,anchor_orig:k,client_time:(new Date).toISOString(),anchor_id:t.getAttribute("data-vars-ga-product-id"),anchor_href:t.href,anchor_label:t.getAttribute("data-vars-ga-call-to-action"),page_title:document.title,spot_id:"",network:p}}}(t);Ye("handleClick: linkData",o),t.hasAttribute("gdpr-declined-url")?Ye("handleClick: declined"):(r=(n=o).data,i=Qe(Qe({},function(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}(n,Xe)),{},{data:encodeURIComponent(JSON.stringify(r))}),a=JSON.stringify(i),Ye("fireBeacon",i),navigator.sendBeacon("https://bzp3elaaaj.execute-api.us-east-1.amazonaws.com/Prod/write",a),Ye("handleClick: fired")),Ye("handleClick: request complete",e)},gn=function(t){return rt(t)?(We("handleTrackonomicsDOM skipped",t),!1):fn(t)?(function(t){var e,n,r,i=x();if(We("🔥 handleTrackonomicsElement",t,"enabled",i),t.hasAttribute("data-trackonomics-tracking"))return We("🔥 handleTrackonomicsElement HAS ATTRIBUTE data-trackonomics-tracking SKIPPING",t),!1;We("> handleTrackonomicsDOM 🔥",t);var a,o,c,l,u,d,s,f,m=t.getAttribute("data-affiliate-url"),v=t.dataset;t.dataset.rawAffiliateUrl||(v.rawAffiliateUrl=m),a=t,o=mn(t),c=t.dataset.rawAffiliateUrl,f=null!==(l=null==ln||null===(u=ln.commerce)||void 0===u||null===(d=u.affiliate)||void 0===d||null===(s=d.trackonomics)||void 0===s?void 0:s.cipd2)&&void 0!==l?l:"TEMPLATEERROR",["href","data-affiliate-url"].forEach((function(t){var e=c;void 0!==e?null!=e&&(un.forEach((function(t){e=e.replace(t,o)})),dn.forEach((function(t){e=e.replace(t,f)})),a.setAttribute(t,e)):function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).error.apply(t,["".concat(ct,":")].concat(n))}("Could not find ".concat(t," attribute in the node"),a)})),t.dataset.listenersAdded||(t.addEventListener("click",(function(e){return pn(t,e)})),t.addEventListener("contextmenu",(function(e){return pn(t,e)})),v.listenersAdded="true");var p=z(t),g=null==p?void 0:p.site_id,b=null!==(e=null==p||null===(n=p.product_metadata)||void 0===n||null===(r=n[g])||void 0===r?void 0:r.link)&&void 0!==e?e:t.getAttribute("data-href");t.setAttribute("data-href",b);var h=function(){if(t.hasAttribute("data-afflinks-tracking"))We("🔥 handleTrackonomicsElement HAS ATTRIBUTE data-afflinks-tracking SKIPPING",t);else{var e=i?q(t):"";t.setAttribute("data-trackonomics-tracking",e),We("rebuild xcust",t)}};t.setAttribute("target","_blank"),vn.register(t,h),h()}(t),!0):(We("handleTrackonomicsDOM: not trackonomics",t),!1)},bn=new Set,hn=Y((function(t){We("handleObserver",t);var e=function(t){var e='a[data-affiliate-network]:not([href*="_p/afflink/"])';We("searching links by",e);var n=t.reduce((function(t,n){return n.querySelectorAll?[].concat(an(t),an(n.querySelectorAll(e))):t}),[]);return an(new Set(n.filter(fn)))}(t);if(e.length){Ye("found elements",e),e.forEach(gn);var n=e.filter((function(t){return!bn.has(t)}));n.length&&(_t(gn,n),n.forEach((function(t){return bn.add(t)})))}}),ut,!1,k,ct),yn=function(t){We("trackonomics.resetTracking",t),document.querySelectorAll("[data-trackonomics-tracking]").forEach((function(t){t.removeAttribute("data-trackonomics-tracking"),t.removeAttribute("data-trackonomics-xid")})),setTimeout(Pt,100)};function wn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Z(It((function(){J(hn,ct),V(gn,ct),hn(document),Q(yn,ct)}),ct));var An=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];f.apply(void 0,["🛍️ ".concat(lt,":")].concat(e))},Sn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];s.apply(void 0,["🛍️ ".concat(lt,":")].concat(e))},On='a[href*="_p/afflink/"]',En='a[href*="_p/afflink/"i]:not([data-afflinks-tracking])',Tn=new tt("afflinks","data-afflinks-tracking"),_n=new Set,Pn=function(t){if(t.hasAttribute("data-afflinks-tracking"))return An("🔥 handleAfflinksElement HAS ATTRIBUTE data-afflinks-tracking SKIPPING",t),!1;var e=function(){An("> handleCurrentAfflinksElement 🔥",t);var e=t.getAttribute("href"),n=new URL(e,window.location.origin),r=function(t){var e,n,r,i,a,o=G(),c=_(o),l=c.experimentId,u=c.variationId,d=P(o).map((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}}(e,n)||function(t,e){if(t){if("string"==typeof t)return wn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wn(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],a=r[1];return"".concat(i,"|").concat(a)})).join("["),s=z(t),f=null!==(e=null==s||null===(n=s.product_metadata)||void 0===n?void 0:n.network_name)&&void 0!==e?e:null==s||null===(r=s.metadata)||void 0===r||null===(i=r.trackonomics)||void 0===i?void 0:i.network_name;f=null===(a=f)||void 0===a?void 0:a.toLowerCase();var m=qt();return{articleId:Jt(o),src:m,source:m,ch:$t(),utmSource:M("utm_source"),utmCampaign:M("utm_campaign"),utmMedium:M("utm_medium"),fbclid:U("fbclid")||Ht("fbclid"),gclid:U("gclid")||Ht("gclid"),msclkid:U("msclkid")||Ht("msclkid"),contentId:F("content.id")||F("listing.id")||o.contentId,contentProductId:t.getAttribute("data-vars-ga-product-id")||"",productRetailerId:t.getAttribute("data-vars-ga-product-retailer-id")||"",lt:t.getAttribute("data-vars-ga-link-treatment")||"",axid:t.getAttribute("data-vars-ga-axid")||"",optxid:l,optvid:u,ofsTagsRaw:d,abTestingFullStack:null==o?void 0:o.abTestingFullStack,mediaRole:t.getAttribute("data-vars-ga-media-role"),productBrand:t.getAttribute("data-vars-ga-product-brand"),productPrice:t.getAttribute("data-vars-ga-product-price"),sem3Brand:t.getAttribute("data-vars-ga-product-sem3-brand"),sem3Category:t.getAttribute("data-vars-ga-product-sem3-category"),sem3Id:t.getAttribute("data-vars-ga-product-sem3-id"),clientTimestamp:(new Date).toISOString(),pageTitle:document.title,cta:t.getAttribute("data-vars-ga-call-to-action"),trxNetwork:f}}(t);Object.entries(r).forEach((function(t){var e,r,i=(r=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}}(e,r)||function(t,e){if(t){if("string"==typeof t)return kn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kn(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],o=i[1];o&&n.searchParams.set(a,o)}));var i=n.toString();n.origin===window.location.origin&&(i=n.pathname+n.search+n.hash),t.setAttribute("href",i),t.setAttribute("data-afflinks-tracking",JSON.stringify(r))};return Tn.register(t,e),e(),!0},Rn=Y((function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(An("handleObserver",t,e),et){var n="a[data-affiliate-network]:not([data-afflinks-tracking])",r=A(t,n);r.forEach((function(t){var e=nt(t);e&&t.setAttribute("href",e)}))}var i=A(t,e?On:En);if(i.length){Sn("found elements",i),i.forEach(Pn);var a=i.filter((function(t){return!_n.has(t)}));a.length&&(f("afflinks.registerEvents",a),_t(Pn,a),a.forEach((function(t){return _n.add(t)})))}}),ut,!1,k,lt),In=function(t){f("afflinks.resetTracking",t),document.querySelectorAll(On).forEach((function(t){t.removeAttribute("data-afflinks-tracking")})),setTimeout(Pt,100)};Z(It((function(){J(Rn,lt),Rn(document),Q(In,lt)}),lt)),Z((function(){f("AFFILIATE TAGGING:","attribution-cookie");var t=["[data-vars-ga-product-id]"];document.addEventListener("click",(function(e){f("AFFILIATE TAGGING:","attribution-cookie","click event listener.");var n=e.target.closest(t);if(n){var r=n.getAttribute("data-vars-ga-product-id"),i=n.getAttribute("data-vars-ga-product-retailer-id"),a=window.location,o=a.hostname,c=a.pathname,l=M("utm_campaign");if(Et()){var u={pageUrl:c,productRetailerId:i,utmCampaign:l,contentProductId:r,refDomain:o};f("AFFILIATE TAGGING:","attribution-cookie","payload",u);var d=JSON.stringify(u);document.cookie="affiliate_attribution=".concat(d,";path=/;max-age=1800")}}}))})),X()||Z((function(){var e,n,r,i=G();d&&(t.g.hrstGdprProxy=(e=window.GDPR_CONSENT_GROUPS,void 0===(null==i||null===(n=i.commerce)||void 0===n||null===(r=n.affiliate)||void 0===r?void 0:r.gdpr)&&(i.commerce.affiliate.gdpr={}),i.commerce.affiliate.gdpr.GDPR_CONSENT_GROUPS=e,new Proxy(i.commerce.affiliate.gdpr,{set:function(t,e,n){var r,a,o,c,l,u,d;t[e]=n,window.GDPR_CONSENT_GROUPS!==(null==i||null===(r=i.commerce)||void 0===r||null===(a=r.affiliate)||void 0===a||null===(o=a.gdpr)||void 0===o?void 0:o.GDPR_CONSENT_GROUPS)?(s("AFFILIATE DEBUG:","GDPR is changed: ",e,n),window.GDPR_CONSENT_GROUPS=null==i||null===(c=i.commerce)||void 0===c||null===(l=c.affiliate)||void 0===l||null===(u=l.gdpr)||void 0===u?void 0:u.GDPR_CONSENT_GROUPS,document.createEvent&&((d=document.createEvent("HTMLEvents")).initEvent("cmp.consent.change",!0,!0),d.eventName="cmp.consent.change",document.dispatchEvent(d))):s("AFFILIATE DEBUG:","GDPR nothing to change...")}})))}))}();
//# sourceMappingURL=affiliate-bundle.8.3.23.js.map