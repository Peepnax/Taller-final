"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1445,3754],{91445:function(e,t,r){r.r(t),r.d(t,{default:function(){return P}});var n=r(39468),c=r.n(n),i=r(17066),o=r(28076),a=r(85302),u=r(8626),l=r(88418),f=r(66),s=r(64343),p=r(76375),b=r(57614),d=r(45938),O=r(85103),g=r(95540),h=r(55987),y=r(17066);let w=c()(()=>r.e(7926).then(r.bind(r,17926)),{loadableGenerated:{webpack:()=>[17926]}}),j=c()(()=>r.e(8784).then(r.bind(r,98784)),{loadableGenerated:{webpack:()=>[98784]}});function v({hideMainAdToggle:e=null}){let t=(0,o.Vi)("embeddedListicleSlideCount"),r=(0,o.Vi)("embeddedListicleId"),n=(0,o.Vi)("data.content.0.metadata.slide_count")??t,c=(0,o.Vi)("data.content.0.id"),d=(0,o.Vi)("slides",[])??[],j=(0,o.Vi)("data.content.0.media_pages",[])??[],[v,P]=(0,s.KO)(f.F),Z=([e,t])=>(0,g.l)({id:t,initialData:d,mediaIdPages:j,pageIndex:e}),m=(...e)=>(0,g.k)(...e,r||c),{data:E,ref:k,loading:D,error:S}=(0,b.Z)({fetcher:Z,getKey:m,pageSize:u.hR,fallbackData:d,inviewOptions:{rootMargin:"1600px 0px"}});P(!0===D);let _=E?.length,V=(0,a.Z)();(0,i.useEffect)(()=>{V||window.dispatchEvent(new CustomEvent("app.adApiUpdate"))},[_]);let z=n>u.hR?_-1:null,C=(0,O._)({listicleSlides:E,hideMainAdToggle:e,ref:k,refIndex:z});return(0,h.tZ)(y.Fragment,null,C,S&&E.length<n?(0,h.tZ)(p.Aw,null,(0,h.tZ)(w,{fetcher:Z,getKey:m,sxProps:p.aE})):v&&(0,h.tZ)(p.Aw,null,(0,h.tZ)(l.Z,null)))}function P(e){return(0,s.Dv)(d.E)?(0,h.tZ)(j,e):(0,h.tZ)(v,e)}},95540:function(e,t,r){r.d(t,{k:function(){return l},l:function(){return u}});var n=r(62402),c=r(40056);let i=e=>btoa(e);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function u({id:e,initialData:t,pageIndex:r,mediaIdPages:n,source:o}){let u;if(1===r)return t;if(!e)return[];let l=r>=2?n?.[r-2]||[]:n?.flat();l.length&&(u=i(l.join(",")));let f=a(a(a({id:e},r&&{page:r}),u&&{ids:u}),o&&{source:o}),s=`/api/listicle-slides?${new URLSearchParams(f).toString()}`;try{return(await (0,c.he)(s,{retry:2})).json()}catch{return[]}}function l(e,t,r){return r&&(!t||t.length)?[e+1,r]:[]}},57614:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(62402),c=r(38295),i=r(5974),o=r(17066),a=r(57490),u=r(34536);let l=["fetcher","getKey","fallbackData","update","pageSize","inviewOptions"],f=["data","error","size","isLoading","setSize"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function b(e){return e+1}function d(e){let{fetcher:t,getKey:r,fallbackData:n=[],update:s=b,pageSize:d=10,inviewOptions:O}=e,g=(0,c.Z)(e,l),{inView:h,observer:y,ref:w}=(0,i.Z)(O),j=(0,a.ZP)(r,t,p(p({fallbackData:n},u.YM),g)),{data:v,error:P,size:Z,isLoading:m,setSize:E}=j,k=(0,c.Z)(j,f),D=v&&v.length?[].concat(...v):[],S=m||Z>0&&v&&void 0===v[Z-1];return(0,o.useEffect)(()=>{h&&w.current&&!(n.length<d)&&(y.current.unobserve(w.current),!v&&!P||S||v&&v[v.length-1]?.length<d||(y.current.reset(),E(s(Z))))},[h]),(0,o.useEffect)(()=>{w.current&&y.current.observe(w.current)},[v]),p({ref:w,loading:S,data:D??[],size:Z,error:P},k)}}}]);